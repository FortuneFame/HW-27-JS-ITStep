# HW-27-JS-ITStep

# Задание

У вас недавно было задание по созданию страницы поиска 

фильмов. Сегодня вам необходимо усовершенствовать это 

задание. 

Технические требования

1. Логику работы с API необходимо описать в отдельном

классе.

Например, class MovieService с методами search (title,

type, page) и getMovie (movieId).

2. В этих методах необходимо реализовать только (!) обра￾щение к API и получение результатов.

3. Логика изменения DOM должна быть реализована за пре￾делами класса MovieService. Это может быть отдельный

класс для взаимодействия с DOM или просто набор

функций.

4. Методы класса, которые обращаются к API, должны быть

асинхронными (используйте конструкцию async/await).

Для начала пользователю доступна форма поиска, приведенная 

на рисунке 1.

После того как пользователь введет данные и нажмет кнопку 

Search и до того как загрузятся все фильмы, пройдет какое-то время. 

Ведь будет идти обращение к удаленному серверу, а мы не знаем 

заранее, как быстро он ответит на наш запрос. В этот промежуток 

времени ваш сайт не должен застывать в непонятном состоянии. 

Поэтому необходимо отображать иконку загрузки до тех пор, пока 

все фильмы не отобразятся на странице.

Когда все фильмы (первые 10 штук) загружены и отображены 

на странице, иконка загрузки пропадает. 

Под списком всех фильмов должна быть кнопка More, при 

нажатии на которую загружаются следующие 10 фильмов. 

Обращаем внимание, что OMDB возвращает только 10 филь￾мов за 1 запрос и дает возможность указать номер страницы 

для выборки. Например, если под критерии поиска подходит 50 

фильмов, значит будет 5 страниц по 10 фильмов. И при первом 

обращении (нажатии на кнопку Search) вы запрашиваете первую 

страницу, при следующих нажатиях на кнопку More – следующие 

страницы.

После нажатия на кнопку More, она блокируется и появляется 

иконка загрузки, до тех пор пока следующие 10 фильмов не ото￾бразятся на странице

Следующие фильмы уже отображены на странице, и кнопка 

More разблокирована (см.

При нажатии на кнопку Details необходимо открыть модальное 

окно и отображать иконку загрузки, пока данные загружаются на 

страницу.

Ссылка на API OMDB: http://www.omdbapi.com/ (необходимо 

зарегистрироваться для получения API KEY).

Ссылка на альтернативный API с фильмами (для того случая, 

если OMDB не будет работать): https://developers.themoviedb.org/3/

search/search-movies. 

Если же и этот API не будет работать, то вам придется само￾стоятельно найти другой доступный ресурс и адаптировать под 

него задание.
